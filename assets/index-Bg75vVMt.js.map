{"version":3,"file":"index-Bg75vVMt.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.js","../../node_modules/lucide-react/dist/esm/icons/check-circle.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/cloud-rain.js","../../node_modules/lucide-react/dist/esm/icons/cloud-sun.js","../../node_modules/lucide-react/dist/esm/icons/map-pin.js","../../node_modules/lucide-react/dist/esm/icons/moon.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/star.js","../../node_modules/lucide-react/dist/esm/icons/sun.js","../../node_modules/lucide-react/dist/esm/icons/sunrise.js","../../node_modules/lucide-react/dist/esm/icons/sunset.js","../../node_modules/lucide-react/dist/esm/icons/wind.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../src/components/layout/Header.jsx","../../src/components/layout/Footer.jsx","../../src/components/ui/GlassCard.jsx","../../src/components/ui/AnimatedButton.jsx","../../src/services/cacheService.js","../../src/services/weatherAPI.js","../../src/hooks/useGeolocation.js","../../src/hooks/useWeatherData.js","../../src/utils/formatters.js","../../src/components/weather/CurrentWeather.jsx","../../src/hooks/useForecastData.js","../../src/components/weather/ForecastChart.jsx","../../src/components/weather/WeatherMap.jsx","../../src/hooks/useDetailedForecast.js","../../src/components/weather/DetailedForecast.jsx","../../src/components/weather/CitySearch.jsx","../../src/components/ui/WeatherBackground.jsx","../../src/components/ui/AirQuality.jsx","../../src/components/ui/PrecipitationRadar.jsx","../../src/components/ui/SunTimes.jsx","../../src/components/ui/ToggleSwitch.jsx","../../src/hooks/useTheme.js","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, ...rest }, ref) => {\n      return createElement(\n        \"svg\",\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n          ...rest\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...Array.isArray(children) ? children : [children]\n        ]\n      );\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CloudRain = createLucideIcon(\"CloudRain\", [\n  [\"path\", { d: \"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\", key: \"1pljnt\" }],\n  [\"path\", { d: \"M16 14v6\", key: \"1j4efv\" }],\n  [\"path\", { d: \"M8 14v6\", key: \"17c4r9\" }],\n  [\"path\", { d: \"M12 16v6\", key: \"c8a4gj\" }]\n]);\n\nexport { CloudRain as default };\n//# sourceMappingURL=cloud-rain.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CloudSun = createLucideIcon(\"CloudSun\", [\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }],\n  [\"path\", { d: \"M15.947 12.65a4 4 0 0 0-5.925-4.128\", key: \"dpwdj0\" }],\n  [\"path\", { d: \"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z\", key: \"s09mg5\" }]\n]);\n\nexport { CloudSun as default };\n//# sourceMappingURL=cloud-sun.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\"path\", { d: \"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\", key: \"2oe9fu\" }],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Moon = createLucideIcon(\"Moon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Star = createLucideIcon(\"Star\", [\n  [\n    \"polygon\",\n    {\n      points: \"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",\n      key: \"8f66p6\"\n    }\n  ]\n]);\n\nexport { Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sun = createLucideIcon(\"Sun\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sunrise = createLucideIcon(\"Sunrise\", [\n  [\"path\", { d: \"M12 2v8\", key: \"1q4o3n\" }],\n  [\"path\", { d: \"m4.93 10.93 1.41 1.41\", key: \"2a7f42\" }],\n  [\"path\", { d: \"M2 18h2\", key: \"j10viu\" }],\n  [\"path\", { d: \"M20 18h2\", key: \"wocana\" }],\n  [\"path\", { d: \"m19.07 10.93-1.41 1.41\", key: \"15zs5n\" }],\n  [\"path\", { d: \"M22 22H2\", key: \"19qnx5\" }],\n  [\"path\", { d: \"m8 6 4-4 4 4\", key: \"ybng9g\" }],\n  [\"path\", { d: \"M16 18a4 4 0 0 0-8 0\", key: \"1lzouq\" }]\n]);\n\nexport { Sunrise as default };\n//# sourceMappingURL=sunrise.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sunset = createLucideIcon(\"Sunset\", [\n  [\"path\", { d: \"M12 10V2\", key: \"16sf7g\" }],\n  [\"path\", { d: \"m4.93 10.93 1.41 1.41\", key: \"2a7f42\" }],\n  [\"path\", { d: \"M2 18h2\", key: \"j10viu\" }],\n  [\"path\", { d: \"M20 18h2\", key: \"wocana\" }],\n  [\"path\", { d: \"m19.07 10.93-1.41 1.41\", key: \"15zs5n\" }],\n  [\"path\", { d: \"M22 22H2\", key: \"19qnx5\" }],\n  [\"path\", { d: \"m16 6-4 4-4-4\", key: \"6wukr\" }],\n  [\"path\", { d: \"M16 18a4 4 0 0 0-8 0\", key: \"1lzouq\" }]\n]);\n\nexport { Sunset as default };\n//# sourceMappingURL=sunset.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wind = createLucideIcon(\"Wind\", [\n  [\"path\", { d: \"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2\", key: \"1k4u03\" }],\n  [\"path\", { d: \"M9.6 4.6A2 2 0 1 1 11 8H2\", key: \"b7d0fd\" }],\n  [\"path\", { d: \"M12.6 19.4A2 2 0 1 0 14 16H2\", key: \"1p5cb3\" }]\n]);\n\nexport { Wind as default };\n//# sourceMappingURL=wind.js.map\n","/**\n * @license lucide-react v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","import { CloudSun } from 'lucide-react';\n\nexport default function Header({ onToggleTheme, theme }) {\n  return (\n    <header className=\"header safe-area-top\">\n      <div className=\"container header-inner\">\n        <div className=\"brand\">\n          <span className=\"brand-icon\" aria-hidden=\"true\">\n            <CloudSun size={22} />\n          </span>\n          <span className=\"brand-title\">AtmosVibe</span>\n        </div>\n\n        <button type=\"button\" className=\"glass-button\" onClick={onToggleTheme}>\n          {theme === 'light' ? '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞' : '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞'}\n        </button>\n      </div>\n    </header>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer safe-area-bottom\">\n      <div className=\"container footer-inner\">\n        <span>AtmosVibe Weather</span>\n        <span className=\"muted\">PWA ‚Ä¢ Vite ‚Ä¢ React</span>\n      </div>\n    </footer>\n  );\n}\n","import clsx from 'clsx';\n\nexport default function GlassCard({ className, children }) {\n  return <div className={clsx('glass-card', className)}>{children}</div>;\n}\n","import { motion } from 'framer-motion';\nimport clsx from 'clsx';\n\nexport default function AnimatedButton({ className, children, ...props }) {\n  return (\n    <motion.button\n      whileHover={{ y: -1 }}\n      whileTap={{ y: 0 }}\n      transition={{ duration: 0.15 }}\n      className={clsx('glass-button', className)}\n      {...props}\n    >\n      {children}\n    </motion.button>\n  );\n}\n","const PREFIX = 'atmosvibe-cache:';\n\nexport function cacheGet(key) {\n  try {\n    const raw = window.localStorage.getItem(PREFIX + key);\n    return raw ? JSON.parse(raw) : null;\n  } catch {\n    return null;\n  }\n}\n\nexport function cacheSet(key, value) {\n  try {\n    window.localStorage.setItem(PREFIX + key, JSON.stringify(value));\n  } catch {\n    // ignore\n  }\n}\n\nexport function cacheClear() {\n  try {\n    const keys = Object.keys(window.localStorage);\n    keys.forEach(key => {\n      if (key.startsWith(PREFIX)) {\n        window.localStorage.removeItem(key);\n      }\n    });\n  } catch {\n    // ignore\n  }\n}\n\nexport function cacheClearExpired() {\n  try {\n    const keys = Object.keys(window.localStorage);\n    keys.forEach(key => {\n      if (key.startsWith(PREFIX)) {\n        const raw = window.localStorage.getItem(key);\n        if (raw) {\n          const parsed = JSON.parse(raw);\n          if (parsed?.ts && Date.now() - parsed.ts > 30 * 60 * 1000) { // 30 –º–∏–Ω—É—Ç\n            window.localStorage.removeItem(key);\n          }\n        }\n      }\n    });\n  } catch {\n    // ignore\n  }\n}\n","import axios from 'axios';\nimport { cacheGet, cacheSet } from './cacheService.js';\n\nconst API_BASE = '//api.openweathermap.org/data/2.5';\nconst CACHE_TTL_MS = 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤\n\nexport async function getCurrentWeather(coords, options = {}) {\n  const { force = false, city } = options;\n  const apiKey = import.meta.env.VITE_OPENWEATHER_API_KEY;\n\n  if (!apiKey) {\n    return {\n      locationName: city?.name || '–î–µ–º–æ —Ä–µ–∂–∏–º',\n      tempC: 15,\n      feelsLikeC: 13,\n      humidity: 65,\n      pressureHpa: 1015,\n      windMs: 4.2,\n      condition: '—è—Å–Ω–æ'\n    };\n  }\n\n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã\n  const cityName = city?.name || 'Moscow';\n  const cacheKey = `current:${cityName}`;\n  \n  console.log('Weather API request:', { cityName, hasApiKey: !!apiKey });\n\n  if (!force) {\n    const cached = cacheGet(cacheKey);\n    if (cached?.data != null && cached?.ts && Date.now() - cached.ts < CACHE_TTL_MS) {\n      return cached.data;\n    }\n  }\n\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–ª—É—á–∞–π 429 –æ—à–∏–±–∫–∏\n  const fallbackCached = cacheGet(cacheKey);\n\n  const { data } = await axios.get(`${API_BASE}/weather`, {\n    params: {\n      q: cityName,\n      APPID: apiKey,\n      units: 'metric'\n    },\n    timeout: 10000 // 10 second timeout\n  }).catch((error) => {\n    if (error.code === 'ECONNABORTED') {\n      throw new Error('Timeout: Weather API request took too long');\n    }\n    if (error.response?.status === 401) {\n      throw new Error('Invalid API key');\n    }\n    if (error.response?.status === 404) {\n      throw new Error('City not found');\n    }\n    if (error.response?.status === 429) {\n      // –ï—Å–ª–∏ –µ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö —Å –ø–æ–º–µ—Ç–∫–æ–π\n      if (fallbackCached?.data) {\n        console.warn('API rate limit exceeded, using cached data');\n        return { ...fallbackCached.data, isRateLimited: true };\n      }\n      throw new Error('Too many requests. Please wait before refreshing.');\n    }\n    throw new Error(`Weather API error: ${error.message}`);\n  });\n\n  // Weather API 2.5 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ\n  const result = {\n    locationName: data?.name ?? cityName,\n    tempC: typeof data?.main?.temp === 'number' ? data.main.temp : 0,\n    feelsLikeC: typeof data?.main?.feels_like === 'number' ? data.main.feels_like : 0,\n    humidity: typeof data?.main?.humidity === 'number' ? data.main.humidity : 0,\n    pressureHpa: typeof data?.main?.pressure === 'number' ? data.main.pressure : 0,\n    windMs: typeof data?.wind?.speed === 'number' ? data.wind.speed : 0,\n    condition: data?.weather?.[0]?.description ?? '‚Äî'\n  };\n  \n  console.log('Weather API result:', result);\n  cacheSet(cacheKey, { data: result, ts: Date.now() });\n  return result;\n}\n\n/** –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω–µ–π (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã 3 —á). –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ { t, v } –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ (–ø–µ—Ä–≤—ã–µ 16 —Ç–æ—á–µ–∫). */\nexport async function getForecast(coords, options = {}) {\n  const { force = false, city } = options;\n  const apiKey = import.meta.env.VITE_OPENWEATHER_API_KEY;\n\n  if (!apiKey) {\n    return [\n      { t: '00:00', v: 12 },\n      { t: '03:00', v: 11 },\n      { t: '06:00', v: 13 },\n      { t: '09:00', v: 16 },\n      { t: '12:00', v: 20 },\n      { t: '15:00', v: 18 },\n      { t: '18:00', v: 15 },\n      { t: '21:00', v: 13 }\n    ];\n  }\n\n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞\n  const cityName = city?.name || 'Moscow';\n  const cacheKey = `forecast:${cityName}`;\n\n  if (!force) {\n    const cached = cacheGet(cacheKey);\n    if (cached?.data != null && cached?.ts && Date.now() - cached.ts < CACHE_TTL_MS) {\n      return cached.data;\n    }\n  }\n\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–ª—É—á–∞–π 429 –æ—à–∏–±–∫–∏\n  const fallbackCached = cacheGet(cacheKey);\n\n  const { data } = await axios.get(`${API_BASE}/forecast`, {\n    params: {\n      q: cityName,\n      APPID: apiKey,\n      units: 'metric'\n    },\n    timeout: 10000 // 10 second timeout\n  }).catch((error) => {\n    if (error.code === 'ECONNABORTED') {\n      throw new Error('Timeout: Forecast API request took too long');\n    }\n    if (error.response?.status === 401) {\n      throw new Error('Invalid API key');\n    }\n    if (error.response?.status === 404) {\n      throw new Error('City not found');\n    }\n    if (error.response?.status === 429) {\n      // –ï—Å–ª–∏ –µ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö —Å –ø–æ–º–µ—Ç–∫–æ–π\n      if (fallbackCached?.data) {\n        console.warn('Forecast API rate limit exceeded, using cached data');\n        return fallbackCached.data.map(item => ({ ...item, isRateLimited: true }));\n      }\n      throw new Error('Too many requests. Please wait before refreshing.');\n    }\n    throw new Error(`Forecast API error: ${error.message}`);\n  });\n\n  // Weather API 2.5 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –≤ list –º–∞—Å—Å–∏–≤–µ\n  const list = data?.list ?? [];\n  const result = list.slice(0, 16).map((item) => {\n    const date = new Date(item.dt * 1000);\n    const hours = date.getHours();\n    const mins = date.getMinutes();\n    const t = `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;\n    const v = typeof item.main?.temp === 'number' ? Math.round(item.main.temp) : 0;\n    return { t, v };\n  });\n  \n  cacheSet(cacheKey, { data: result, ts: Date.now() });\n  return result;\n}\n\n/** –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 24 —á–∞—Å–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å –ø–æ—á–∞—Å–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ */\nexport async function getDetailedForecast(coords, options = {}) {\n  const { force = false, city } = options;\n  const apiKey = import.meta.env.VITE_OPENWEATHER_API_KEY;\n\n  if (!apiKey) {\n    // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞ 24 —á–∞—Å–∞\n    return Array.from({ length: 24 }, (_, i) => ({\n      dt: Date.now() / 1000 + i * 3600,\n      temp: 15 + Math.sin(i / 4) * 8,\n      condition: i % 3 === 0 ? '—è—Å–Ω–æ' : i % 3 === 1 ? '–æ–±–ª–∞—á–Ω–æ' : '–ø–∞—Å–º—É—Ä–Ω–æ',\n      humidity: 60 + Math.random() * 20,\n      windMs: 2 + Math.random() * 6,\n      pressure: 1010 + Math.random() * 10\n    }));\n  }\n\n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞\n  const cityName = city?.name || 'Moscow';\n  const cacheKey = `detailed:${cityName}`;\n\n  if (!force) {\n    const cached = cacheGet(cacheKey);\n    if (cached?.data != null && cached?.ts && Date.now() - cached.ts < CACHE_TTL_MS) {\n      return cached.data;\n    }\n  }\n\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–ª—É—á–∞–π 429 –æ—à–∏–±–∫–∏\n  const fallbackCached = cacheGet(cacheKey);\n\n  const { data } = await axios.get(`${API_BASE}/forecast`, {\n    params: {\n      q: cityName,\n      APPID: apiKey,\n      units: 'metric'\n    },\n    timeout: 10000 // 10 second timeout\n  }).catch((error) => {\n    if (error.code === 'ECONNABORTED') {\n      throw new Error('Timeout: Detailed forecast API request took too long');\n    }\n    if (error.response?.status === 401) {\n      throw new Error('Invalid API key');\n    }\n    if (error.response?.status === 404) {\n      throw new Error('City not found');\n    }\n    if (error.response?.status === 429) {\n      // –ï—Å–ª–∏ –µ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö —Å –ø–æ–º–µ—Ç–∫–æ–π\n      if (fallbackCached?.data) {\n        console.warn('Detailed forecast API rate limit exceeded, using cached data');\n        return fallbackCached.data.map(item => ({ ...item, isRateLimited: true }));\n      }\n      throw new Error('Too many requests. Please wait before refreshing.');\n    }\n    throw new Error(`Detailed forecast API error: ${error.message}`);\n  });\n\n  // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞ (8 –∑–∞–ø–∏—Å–µ–π –ø–æ 3 —á–∞—Å–∞ –∫–∞–∂–¥–∞—è)\n  const list = data?.list ?? [];\n  const result = list.slice(0, 8).map((item) => ({\n    dt: item.dt,\n    temp: typeof item.main?.temp === 'number' ? Math.round(item.main.temp) : 0,\n    condition: item?.weather?.[0]?.description ?? '‚Äî',\n    humidity: typeof item.main?.humidity === 'number' ? item.main.humidity : 0,\n    windMs: typeof item.wind?.speed === 'number' ? item.wind.speed : 0,\n    pressure: typeof item.main?.pressure === 'number' ? item.main.pressure : 0\n  }));\n  \n  cacheSet(cacheKey, { data: result, ts: Date.now() });\n  return result;\n}\n","import { useEffect, useState } from 'react';\n\nexport function useGeolocation() {\n  const [coords, setCoords] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!('geolocation' in navigator)) {\n      setError(new Error('Geolocation unsupported'));\n      return;\n    }\n\n    const watchId = navigator.geolocation.watchPosition(\n      (pos) => {\n        const coords = { lat: pos.coords.latitude, lon: pos.coords.longitude };\n        console.log('Geolocation coords:', coords);\n        setCoords(coords);\n        setError(null);\n      },\n      (err) => {\n        console.warn('Geolocation error:', err);\n        setError(err);\n      },\n      { enableHighAccuracy: true, maximumAge: 60_000, timeout: 10_000 }\n    );\n\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n\n  return { coords, error };\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { getCurrentWeather } from '../services/weatherAPI.js';\nimport { useGeolocation } from './useGeolocation.js';\n\nexport function useWeatherData(city) {\n  const { coords } = useGeolocation();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  console.log('useWeatherData: city prop:', city);\n\n  const run = useCallback(async (force = false) => {\n    console.log('useWeatherData: run called with city:', city, 'force:', force);\n    setLoading(true);\n    setError(null);\n    try {\n      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –∏–ª–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é\n      const result = await getCurrentWeather(null, { \n        force, \n        city: city || null \n      });\n      console.log('useWeatherData: got result:', result);\n      setData(result);\n    } catch (e) {\n      console.log('useWeatherData: error:', e);\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [city]);\n\n  useEffect(() => {\n    run(false);\n  }, [run]);\n\n  const refetch = useCallback(() => run(true), [run]);\n\n  return { data, loading, error, refetch };\n}\n","export function formatTempC(value) {\n  if (typeof value !== 'number' || Number.isNaN(value)) return '‚Äî';\n  const rounded = Math.round(value);\n  return `${rounded}¬∞C`;\n}\n\nexport function formatTimeHHMM(date) {\n  if (!(date instanceof Date) || Number.isNaN(date.getTime())) return '‚Äî';\n  const h = date.getHours();\n  const m = date.getMinutes();\n  return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\n}\n","import GlassCard from '../ui/GlassCard.jsx';\nimport AnimatedButton from '../ui/AnimatedButton.jsx';\nimport { useWeatherData } from '../../hooks/useWeatherData.js';\nimport { formatTempC } from '../../utils/formatters.js';\n\nexport default function CurrentWeather({ city }) {\n  const { data, loading, error, refetch } = useWeatherData(city);\n\n  return (\n    <GlassCard className=\"widget\">\n      <div className=\"widget-header\">\n        <h3 className=\"widget-title\">–°–µ–π—á–∞—Å</h3>\n        <div className=\"widget-header-actions\">\n          <span className=\"muted\">–õ–æ–∫–∞—Ü–∏—è: {data?.locationName || '‚Äî'}</span>\n          <AnimatedButton type=\"button\" onClick={refetch} disabled={loading} title=\"–û–±–Ω–æ–≤–∏—Ç—å\">\n            {error ? '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å' : '–û–±–Ω–æ–≤–∏—Ç—å'}\n          </AnimatedButton>\n        </div>\n      </div>\n\n      {loading && <div className=\"skeleton widget-skeleton\" />}\n\n      {!loading && error && (\n        <p className=\"muted\">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–≥–æ–¥—É. –ü—Ä–æ–≤–µ—Ä—å API –∫–ª—é—á.</p>\n      )}\n\n      {!loading && !error && data && (\n        <div className=\"current\">\n          <div className=\"current-temp\">{formatTempC(data.tempC)}</div>\n          <div className=\"muted\">{data.condition}</div>\n          {data.feelsLikeC != null && (\n            <div className=\"muted\">–û—â—É—â–∞–µ—Ç—Å—è: {formatTempC(data.feelsLikeC)}</div>\n          )}\n          <div className=\"current-meta\">\n            <div>\n              <span className=\"muted\">–í–ª–∞–∂–Ω–æ—Å—Ç—å</span>\n              <div>{data.humidity}%</div>\n            </div>\n            <div>\n              <span className=\"muted\">–í–µ—Ç–µ—Ä</span>\n              <div>{data.windMs} –º/—Å</div>\n            </div>\n            {data.pressureHpa != null && data.pressureHpa > 0 && (\n              <div>\n                <span className=\"muted\">–î–∞–≤–ª–µ–Ω–∏–µ</span>\n                <div>{data.pressureHpa} hPa</div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </GlassCard>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { getForecast } from '../services/weatherAPI.js';\nimport { useGeolocation } from './useGeolocation.js';\n\nexport function useForecastData(city) {\n  const { coords } = useGeolocation();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const run = useCallback(async (force = false) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await getForecast(null, { \n        force, \n        city: city || null \n      });\n      setData(result);\n    } catch (e) {\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [city]);\n\n  useEffect(() => {\n    run(false);\n  }, [run]);\n\n  const refetch = useCallback(() => run(true), [run]);\n\n  return { data, loading, error, refetch };\n}\n","import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';\nimport GlassCard from '../ui/GlassCard.jsx';\nimport { useForecastData } from '../../hooks/useForecastData.js';\n\nconst fallbackData = [\n  { t: '00:00', v: 5 },\n  { t: '06:00', v: 6 },\n  { t: '12:00', v: 10 },\n  { t: '18:00', v: 7 }\n];\n\nexport default function ForecastChart({ city }) {\n  const { data: forecast, loading, error } = useForecastData(city);\n  const chartData = forecast?.length ? forecast : fallbackData;\n\n  return (\n    <GlassCard className=\"widget\">\n      <div className=\"widget-header\">\n        <h3 className=\"widget-title\">–ü—Ä–æ–≥–Ω–æ–∑</h3>\n        <span className=\"muted\">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, 3 —á</span>\n      </div>\n\n      {loading && <div className=\"skeleton widget-skeleton\" />}\n\n      {!loading && error && (\n        <p className=\"muted\">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑.</p>\n      )}\n\n      {!loading && !error && chartData.length > 0 && (\n        <div style={{ width: '100%', height: 240 }}>\n          <ResponsiveContainer>\n            <LineChart data={chartData}>\n              <XAxis dataKey=\"t\" stroke=\"rgba(255,255,255,0.6)\" fontSize={12} />\n              <YAxis stroke=\"rgba(255,255,255,0.6)\" fontSize={12} />\n              <Tooltip\n                contentStyle={{\n                  background: 'rgba(15, 23, 42, 0.85)',\n                  border: '1px solid rgba(255,255,255,0.12)',\n                  borderRadius: 12\n                }}\n                labelStyle={{ color: '#f8fafc' }}\n                formatter={(value) => [`${value} ¬∞C`, '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞']}\n              />\n              <Line type=\"monotone\" dataKey=\"v\" stroke=\"#8b5cf6\" strokeWidth={2} dot={false} />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      )}\n    </GlassCard>\n  );\n}\n","import { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport { useEffect } from 'react';\nimport L from 'leaflet';\nimport GlassCard from '../ui/GlassCard.jsx';\n\n// –ò–∫–æ–Ω–∫–∞ –º–∞—Ä–∫–µ—Ä–∞: –≤ Vite –ø—É—Ç–∏ Leaflet –ª–æ–º–∞—é—Ç—Å—è, –∑–∞–¥–∞—ë–º —è–≤–Ω–æ\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n});\n\nconst DEFAULT_CENTER = [55.751244, 37.618423];\nconst DEFAULT_ZOOM = 10;\n\nfunction MapCenter({ center }) {\n  const map = useMap();\n  useEffect(() => {\n    if (center && center[0] != null && center[1] != null) {\n      map.setView(center, map.getZoom());\n    }\n  }, [map, center]);\n  return null;\n}\n\nfunction WeatherMap({ city }) {\n  const center = city ? [city.lat, city.lon] : DEFAULT_CENTER;\n  const hasMarker = Boolean(city);\n\n  return (\n    <GlassCard className=\"widget\">\n      <div className=\"widget-header\">\n        <h3 className=\"widget-title\">–ö–∞—Ä—Ç–∞</h3>\n        <span className=\"muted\">{hasMarker ? city.name : '–¶–µ–Ω—Ç—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é'}</span>\n      </div>\n      <div className=\"map-container\">\n        <MapContainer\n          center={center}\n          zoom={DEFAULT_ZOOM}\n          scrollWheelZoom={true}\n          style={{ height: '100%', width: '100%' }}\n        >\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <MapCenter center={center} />\n          {hasMarker && (\n            <Marker position={[city.lat, city.lon]}>\n              <Popup>–ü–æ–≥–æ–¥–∞ –≤ {city.name}</Popup>\n            </Marker>\n          )}\n        </MapContainer>\n      </div>\n    </GlassCard>\n  );\n}\n\nexport default WeatherMap;\n","import { useCallback, useEffect, useState } from 'react';\nimport { getDetailedForecast } from '../services/weatherAPI.js';\nimport { useGeolocation } from './useGeolocation.js';\n\nexport function useDetailedForecast(city) {\n  const { coords } = useGeolocation();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const run = useCallback(async (force = false) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await getDetailedForecast(null, { \n        force, \n        city: city || null \n      });\n      setData(result);\n    } catch (e) {\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [city]);\n\n  useEffect(() => {\n    run(false);\n  }, [run]);\n\n  const refetch = useCallback(() => run(true), [run]);\n\n  return { data, loading, error, refetch };\n}\n","import GlassCard from '../ui/GlassCard.jsx';\nimport { useDetailedForecast } from '../../hooks/useDetailedForecast.js';\nimport { formatTempC, formatTimeHHMM } from '../../utils/formatters.js';\n\nexport default function DetailedForecast({ city }) {\n  const { data, loading, error } = useDetailedForecast(city);\n\n  return (\n    <GlassCard className=\"widget\">\n      <div className=\"widget-header\">\n        <h3 className=\"widget-title\">–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑</h3>\n        <span className=\"muted\">–ù–∞ –±–ª–∏–∂–∞–π—à–∏–µ 24 —á–∞—Å–∞</span>\n      </div>\n\n      {loading && <div className=\"skeleton widget-skeleton\" />}\n\n      {!loading && error && (\n        <p className=\"muted\">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑.</p>\n      )}\n\n      {!loading && !error && data && data.length > 0 && (\n        <div className=\"detailed-forecast\">\n          <div className=\"forecast-list\">\n            {data.map((item, index) => (\n              <div key={index} className=\"forecast-item\">\n                <div className=\"forecast-time\">\n                  {formatTimeHHMM(new Date(item.dt * 1000))}\n                </div>\n                <div className=\"forecast-temp\">\n                  {formatTempC(item.temp)}\n                </div>\n                <div className=\"forecast-condition\">\n                  {item.condition}\n                </div>\n                <div className=\"forecast-details\">\n                  <span className=\"forecast-humidity\">üíß {item.humidity}%</span>\n                  <span className=\"forecast-wind\">üí® {item.windMs} –º/—Å</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </GlassCard>\n  );\n}\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport GlassCard from '../ui/GlassCard.jsx';\nimport { Search, X, MapPin, Star } from 'lucide-react';\nimport '../../styles/city-search.css';\n\nconst POPULAR_CITIES = [\n  { name: '–ú–æ—Å–∫–≤–∞', country: 'RU', lat: 55.7558, lon: 37.6173 },\n  { name: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', country: 'RU', lat: 59.9343, lon: 30.3351 },\n  { name: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', country: 'RU', lat: 55.0084, lon: 82.9357 },\n  { name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', country: 'RU', lat: 56.8389, lon: 60.6057 },\n  { name: '–ö–∞–∑–∞–Ω—å', country: 'RU', lat: 55.8304, lon: 49.0661 },\n  { name: 'London', country: 'GB', lat: 51.5074, lon: -0.1278 },\n  { name: 'Paris', country: 'FR', lat: 48.8566, lon: 2.3522 },\n  { name: 'New York', country: 'US', lat: 40.7128, lon: -74.0060 },\n  { name: 'Tokyo', country: 'JP', lat: 35.6762, lon: 139.6503 },\n  { name: 'Berlin', country: 'DE', lat: 52.5200, lon: 13.4050 }\n];\n\nexport default function CitySearch({ onCitySelect, currentCity }) {\n  const [query, setQuery] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isHovering, setIsHovering] = useState(false);\n  const [favorites, setFavorites] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const inputRef = useRef(null);\n  const dropdownRef = useRef(null);\n  const searchContainerRef = useRef(null);\n\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏–∑ localStorage\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('favorite-cities');\n      if (saved) {\n        setFavorites(JSON.parse(saved));\n      }\n    } catch {\n      setFavorites([]);\n    }\n  }, []);\n\n  // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é dropdown –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏\n  const updateDropdownPosition = useCallback(() => {\n    if (inputRef.current && isOpen) {\n      const rect = inputRef.current.getBoundingClientRect();\n      setDropdownPosition({\n        top: rect.bottom + window.scrollY + 8,\n        left: rect.left + window.scrollX,\n        width: rect.width\n      });\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isOpen) {\n      updateDropdownPosition();\n      window.addEventListener('scroll', updateDropdownPosition);\n      window.addEventListener('resize', updateDropdownPosition);\n      return () => {\n        window.removeEventListener('scroll', updateDropdownPosition);\n        window.removeEventListener('resize', updateDropdownPosition);\n      };\n    }\n  }, [isOpen, updateDropdownPosition]);\n\n  // –î–æ–±–∞–≤–∏–º –∫–ª—é—á –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞ –∞–Ω–∏–º–∞—Ü–∏–π\n  const [animationKey, setAnimationKey] = useState(0);\n  \n  useEffect(() => {\n    if (isOpen) {\n      setAnimationKey(prev => prev + 1);\n    }\n  }, [isOpen]);\n\n  // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\n  useEffect(() => {\n    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ø–æ–∏—Å–∫, –µ—Å–ª–∏ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–∞\n    if (isHovering && !query) {\n      setIsOpen(true);\n    }\n    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏ —É—Ö–æ–¥–µ –∫—É—Ä—Å–æ—Ä–∞, –µ—Å–ª–∏ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∏ —Ñ–æ–∫—É—Å–∞\n    else if (!isHovering && !query && document.activeElement !== inputRef.current) {\n      setIsOpen(false);\n    }\n  }, [isHovering, query]);\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è\n  const handleMouseEnter = () => {\n    setIsHovering(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovering(false);\n  };\n\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –≤ localStorage\n  const saveFavorites = (cities) => {\n    try {\n      localStorage.setItem('favorite-cities', JSON.stringify(cities));\n      setFavorites(cities);\n    } catch {\n      // ignore\n    }\n  };\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ dropdown –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤\n  const searchCities = async (searchQuery) => {\n    console.log('CitySearch: searchCities called with:', searchQuery);\n    if (!searchQuery.trim()) {\n      console.log('CitySearch: empty query, showing popular cities');\n      setSuggestions(POPULAR_CITIES.slice(0, 5));\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // –ò—Å–ø–æ–ª—å–∑—É–µ–º OpenWeatherMap Geocoding API\n      const apiKey = import.meta.env.VITE_OPENWEATHER_API_KEY;\n      console.log('CitySearch: API key exists:', !!apiKey);\n      \n      if (!apiKey) {\n        // –î–µ–º–æ —Ä–µ–∂–∏–º - —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞\n        console.log('CitySearch: demo mode, filtering popular cities');\n        const filtered = POPULAR_CITIES.filter(city =>\n          city.name.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n        console.log('CitySearch: filtered cities:', filtered);\n        setSuggestions(filtered.slice(0, 5));\n        return;\n      }\n\n      const response = await fetch(\n        `//api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(searchQuery)}&limit=5&appid=${apiKey}`\n      );\n      const data = await response.json();\n      console.log('CitySearch: API response:', data);\n      \n      const cities = data.map(item => ({\n        name: item.name,\n        country: item.country,\n        lat: item.lat,\n        lon: item.lon,\n        state: item.state\n      }));\n      \n      console.log('CitySearch: processed cities:', cities);\n      setSuggestions(cities);\n    } catch (error) {\n      console.error('CitySearch: Error searching cities:', error);\n      // Fallback –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞\n      const filtered = POPULAR_CITIES.filter(city =>\n        city.name.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n      setSuggestions(filtered.slice(0, 5));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (query) {\n        searchCities(query);\n      } else {\n        setSuggestions(POPULAR_CITIES.slice(0, 5));\n      }\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [query]);\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    console.log('CitySearch: input changed to:', value);\n    setQuery(value);\n    setIsOpen(true);\n    console.log('CitySearch: setIsOpen called with true');\n  };\n\n  const handleCitySelect = (city) => {\n    console.log('CitySearch: handleCitySelect called with:', city);\n    console.log('CitySearch: onCitySelect exists:', !!onCitySelect);\n    setQuery(city.name);\n    setIsOpen(false);\n    if (onCitySelect) {\n      console.log('CitySearch: calling onCitySelect');\n      onCitySelect(city);\n    } else {\n      console.log('CitySearch: onCitySelect is undefined');\n    }\n  };\n\n  const clearSearch = () => {\n    setQuery('');\n    setIsOpen(false);\n    inputRef.current?.focus();\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ–∫—É—Å–∞ —Å —É—á–µ—Ç–æ–º –Ω–∞–≤–µ–¥–µ–Ω–∏—è\n  const handleInputFocus = () => {\n    console.log('CitySearch: input focused');\n    setIsOpen(true);\n  };\n\n  const handleInputBlur = () => {\n    // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –Ω–µ –Ω–∞ –ø–æ–∏—Å–∫–µ –∏ –Ω–µ –Ω–∞ dropdown\n    setTimeout(() => {\n      if (!isHovering && !dropdownRef.current?.contains(document.activeElement)) {\n        setIsOpen(false);\n      }\n    }, 100);\n  };\n\n  const toggleFavorite = (city, e) => {\n    e.stopPropagation();\n    const cityKey = `${city.name},${city.country}`;\n    const newFavorites = favorites.some(fav => `${fav.name},${fav.country}` === cityKey)\n      ? favorites.filter(fav => `${fav.name},${fav.country}` !== cityKey)\n      : [...favorites, city];\n    \n    saveFavorites(newFavorites);\n  };\n\n  const isFavorite = (city) => {\n    const cityKey = `${city.name},${city.country}`;\n    return favorites.some(fav => `${fav.name},${fav.country}` === cityKey);\n  };\n\n  return (\n    <>\n      <GlassCard className=\"city-search\">\n        <div \n          ref={searchContainerRef}\n          className=\"search-container\"\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n        >\n          <motion.div \n            className=\"search-input-wrapper\"\n            whileFocus={{ scale: 1.02 }}\n            transition={{ duration: 0.2 }}\n          >\n            <motion.div \n              className=\"search-icon\"\n              animate={{ rotate: isOpen ? 360 : 0 }}\n              transition={{ duration: 0.3 }}\n            >\n              <Search size={18} />\n            </motion.div>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={query}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onBlur={handleInputBlur}\n              placeholder=\"–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞...\"\n              className=\"search-input\"\n            />\n            <AnimatePresence>\n              {query && (\n                <motion.button \n                  onClick={clearSearch} \n                  className=\"clear-button\"\n                  initial={{ opacity: 0, scale: 0 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  exit={{ opacity: 0, scale: 0 }}\n                  transition={{ duration: 0.2 }}\n                  whileHover={{ scale: 1.1, rotate: 90 }}\n                  whileTap={{ scale: 0.9 }}\n                >\n                  <X size={16} />\n                </motion.button>\n              )}\n            </AnimatePresence>\n          </motion.div>\n        </div>\n      </GlassCard>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div \n            key={`dropdown-${animationKey}`}\n            ref={dropdownRef} \n            className=\"search-dropdown\"\n            style={{\n              position: 'fixed',\n              top: `${dropdownPosition.top}px`,\n              left: `${dropdownPosition.left}px`,\n              width: `${dropdownPosition.width}px`,\n              background: 'rgba(15, 23, 42, 0.95)',\n              backdropFilter: 'blur(10px)',\n              border: '1px solid rgba(255, 255, 255, 0.1)',\n              borderRadius: '12px',\n              boxShadow: '0 10px 40px rgba(0, 0, 0, 0.3)',\n              zIndex: 99999\n            }}\n            initial={{ opacity: 0, scale: 0.95, y: -10 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: -10 }}\n            transition={{ \n              duration: 0.2, \n              ease: [0.4, 0, 0.2, 1] \n            }}\n            onMouseEnter={() => setIsHovering(true)}\n            onMouseLeave={() => setIsHovering(false)}\n          >\n            {isLoading ? (\n              <motion.div \n                className=\"search-loading\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.1 }}\n              >\n                –ó–∞–≥—Ä—É–∑–∫–∞...\n              </motion.div>\n            ) : (\n              <>\n                {favorites.length > 0 && (\n                  <motion.div \n                    className=\"search-section\"\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.1 }}\n                  >\n                    <div className=\"search-section-title\">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>\n                    {favorites.map((city, index) => (\n                      <motion.div\n                        key={`fav-${index}-${animationKey}`}\n                        className=\"search-item favorite\"\n                        onClick={() => handleCitySelect(city)}\n                        initial={{ opacity: 0, x: -20 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        transition={{ delay: 0.1 + index * 0.05 }}\n                        whileHover={{ scale: 1.02, x: 5 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        <MapPin size={16} />\n                        <div className=\"search-item-info\">\n                          <div className=\"search-item-name\">{city.name}</div>\n                          <div className=\"search-item-country\">{city.country}</div>\n                        </div>\n                        <motion.button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            toggleFavorite(city, e);\n                          }}\n                          className=\"favorite-button active\"\n                          whileHover={{ scale: 1.2, rotate: 72 }}\n                          whileTap={{ scale: 0.9 }}\n                        >\n                          <Star size={16} fill=\"currentColor\" />\n                        </motion.button>\n                      </motion.div>\n                    ))}\n                  </motion.div>\n                )}\n\n                <motion.div \n                  className=\"search-section\"\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: 0.2 }}\n                >\n                  <div className=\"search-section-title\">\n                    {query ? '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞' : '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞'}\n                  </div>\n                  {suggestions.map((city, index) => (\n                    <motion.div\n                      key={`sug-${index}-${animationKey}`}\n                      className=\"search-item\"\n                      onClick={() => {\n                        console.log('CitySearch: clicked on city:', city);\n                        handleCitySelect(city);\n                      }}\n                      initial={{ opacity: 0, x: -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: 0.2 + index * 0.05 }}\n                      whileHover={{ scale: 1.02, x: 5 }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      <MapPin size={16} />\n                      <div className=\"search-item-info\">\n                        <div className=\"search-item-name\">{city.name}</div>\n                        <div className=\"search-item-country\">\n                          {city.state ? `${city.state}, ` : ''}{city.country}\n                        </div>\n                      </div>\n                      <motion.button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          toggleFavorite(city, e);\n                        }}\n                        className={`favorite-button ${isFavorite(city) ? 'active' : ''}`}\n                        whileHover={{ scale: 1.2, rotate: isFavorite(city) ? 72 : 0 }}\n                        whileTap={{ scale: 0.9 }}\n                      >\n                        <Star size={16} fill={isFavorite(city) ? 'currentColor' : 'none'} />\n                      </motion.button>\n                    </motion.div>\n                  ))}\n                </motion.div>\n              </>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","import { useEffect, useRef } from 'react';\nimport { Cloud, CloudRain, CloudSnow, Sun } from 'lucide-react';\n\nexport default function WeatherBackground({ weather = 'clear' }) {\n  const canvasRef = useRef(null);\n  const animationRef = useRef(null);\n  const particlesRef = useRef([]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    let animationId;\n\n    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä canvas\n    const resizeCanvas = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —á–∞—Å—Ç–∏—Ü –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–≥–æ–¥—ã\n    const getParticleConfig = () => {\n      switch (weather) {\n        case 'rain':\n          return {\n            count: 100,\n            speed: { min: 5, max: 10 },\n            size: { min: 1, max: 3 },\n            opacity: { min: 0.3, max: 0.8 },\n            color: 'rgba(174, 194, 224, 0.6)'\n          };\n        case 'snow':\n          return {\n            count: 80,\n            speed: { min: 1, max: 3 },\n            size: { min: 2, max: 6 },\n            opacity: { min: 0.4, max: 0.9 },\n            color: 'rgba(255, 255, 255, 0.8)'\n          };\n        case 'cloudy':\n          return {\n            count: 20,\n            speed: { min: 0.2, max: 0.8 },\n            size: { min: 30, max: 80 },\n            opacity: { min: 0.1, max: 0.3 },\n            color: 'rgba(255, 255, 255, 0.4)'\n          };\n        default: // clear\n          return {\n            count: 30,\n            speed: { min: 0.1, max: 0.5 },\n            size: { min: 20, max: 60 },\n            opacity: { min: 0.05, max: 0.15 },\n            color: 'rgba(255, 255, 255, 0.3)'\n          };\n      }\n    };\n\n    // –ö–ª–∞—Å—Å —á–∞—Å—Ç–∏—Ü—ã\n    class Particle {\n      constructor(config) {\n        this.reset(config);\n      }\n\n      reset(config) {\n        this.x = Math.random() * canvas.width;\n        this.y = Math.random() * canvas.height - canvas.height;\n        this.size = Math.random() * (config.size.max - config.size.min) + config.size.min;\n        this.speed = Math.random() * (config.speed.max - config.speed.min) + config.speed.min;\n        this.opacity = Math.random() * (config.opacity.max - config.opacity.min) + config.opacity.min;\n        this.color = config.color;\n        this.angle = Math.random() * Math.PI * 2;\n        this.angleSpeed = (Math.random() - 0.5) * 0.02;\n      }\n\n      update(config) {\n        if (weather === 'rain') {\n          this.y += this.speed;\n          this.x += Math.sin(this.angle) * 0.5;\n          this.angle += this.angleSpeed;\n        } else if (weather === 'snow') {\n          this.y += this.speed;\n          this.x += Math.sin(this.angle) * 2;\n          this.angle += this.angleSpeed;\n        } else {\n          this.y += this.speed * 0.3;\n          this.x += Math.sin(this.angle) * 0.5;\n          this.angle += this.angleSpeed * 0.5;\n        }\n\n        // –°–±—Ä–æ—Å —á–∞—Å—Ç–∏—Ü—ã –µ—Å–ª–∏ –æ–Ω–∞ –≤—ã—à–ª–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã\n        if (this.y > canvas.height + 50) {\n          this.y = -50;\n          this.x = Math.random() * canvas.width;\n        }\n        if (this.x > canvas.width + 50) {\n          this.x = -50;\n        }\n        if (this.x < -50) {\n          this.x = canvas.width + 50;\n        }\n      }\n\n      draw(ctx) {\n        ctx.save();\n        ctx.globalAlpha = this.opacity;\n        ctx.fillStyle = this.color;\n\n        if (weather === 'rain') {\n          // –†–∏—Å—É–µ–º –∫–∞–ø–ª—é –¥–æ–∂–¥—è\n          ctx.beginPath();\n          ctx.moveTo(this.x, this.y);\n          ctx.lineTo(this.x, this.y + this.size * 3);\n          ctx.strokeStyle = this.color;\n          ctx.lineWidth = this.size;\n          ctx.stroke();\n        } else if (weather === 'snow') {\n          // –†–∏—Å—É–µ–º —Å–Ω–µ–∂–∏–Ω–∫—É\n          ctx.beginPath();\n          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n          ctx.fill();\n          \n          // –î–æ–±–∞–≤–ª—è–µ–º –ª—É—á–∏ —Å–Ω–µ–∂–∏–Ω–∫–∏\n          ctx.strokeStyle = this.color;\n          ctx.lineWidth = 1;\n          for (let i = 0; i < 6; i++) {\n            const angle = (Math.PI * 2 / 6) * i;\n            ctx.beginPath();\n            ctx.moveTo(this.x, this.y);\n            ctx.lineTo(\n              this.x + Math.cos(angle) * this.size * 2,\n              this.y + Math.sin(angle) * this.size * 2\n            );\n            ctx.stroke();\n          }\n        } else {\n          // –†–∏—Å—É–µ–º –æ–±–ª–∞–∫–æ/–æ–±–ª–∞–∫–æ –¥–ª—è —è—Å–Ω–æ–π –ø–æ–≥–æ–¥—ã\n          ctx.beginPath();\n          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n          ctx.fill();\n        }\n\n        ctx.restore();\n      }\n    }\n\n    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü\n    const config = getParticleConfig();\n    particlesRef.current = Array.from({ length: config.count }, () => new Particle(config));\n\n    // –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ü–∏–∫–ª\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      particlesRef.current.forEach(particle => {\n        particle.update(config);\n        particle.draw(ctx);\n      });\n\n      animationId = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    // –û—á–∏—Å—Ç–∫–∞\n    return () => {\n      cancelAnimationFrame(animationId);\n      window.removeEventListener('resize', resizeCanvas);\n    };\n  }, [weather]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className=\"weather-background\"\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        pointerEvents: 'none',\n        zIndex: 1\n      }}\n    />\n  );\n}\n","import { useState, useEffect } from 'react';\nimport GlassCard from './GlassCard.jsx';\nimport { Wind, AlertTriangle, CheckCircle } from 'lucide-react';\n\nexport default function AirQuality({ city }) {\n  const [airQuality, setAirQuality] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–∑–¥—É—Ö–∞\n    const loadAirQuality = async () => {\n      setLoading(true);\n      \n      // –ò–º–∏—Ç–∞—Ü–∏—è API –∑–∞–ø—Ä–æ—Å–∞\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ - –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API –∑–∞–ø—Ä–æ—Å\n      const mockData = {\n        aqi: Math.floor(Math.random() * 150) + 20,\n        pm25: Math.random() * 50 + 10,\n        pm10: Math.random() * 80 + 20,\n        o3: Math.random() * 100 + 40,\n        no2: Math.random() * 60 + 10,\n        so2: Math.random() * 20 + 5,\n        co: Math.random() * 2 + 0.5\n      };\n      \n      setAirQuality(mockData);\n      setLoading(false);\n    };\n\n    if (city) {\n      loadAirQuality();\n    }\n  }, [city]);\n\n  const getAQILevel = (aqi) => {\n    if (aqi <= 50) return { level: '–•–æ—Ä–æ—à–µ–µ', color: '#10b981', icon: CheckCircle };\n    if (aqi <= 100) return { level: '–£–º–µ—Ä–µ–Ω–Ω–æ–µ', color: '#f59e0b', icon: Wind };\n    if (aqi <= 150) return { level: '–í—Ä–µ–¥–Ω–æ–µ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø', color: '#f97316', icon: AlertTriangle };\n    if (aqi <= 200) return { level: '–ù–µ–∑–¥–æ—Ä–æ–≤–æ–µ', color: '#ef4444', icon: AlertTriangle };\n    if (aqi <= 300) return { level: '–û—á–µ–Ω—å –Ω–µ–∑–¥–æ—Ä–æ–≤–æ–µ', color: '#7c3aed', icon: AlertTriangle };\n    return { level: '–û–ø–∞—Å–Ω–æ–µ', color: '#991b1b', icon: AlertTriangle };\n  };\n\n  if (loading) {\n    return (\n      <GlassCard className=\"air-quality-widget\">\n        <div className=\"widget-header\">\n          <Wind size={20} />\n          <h3>–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞</h3>\n        </div>\n        <div className=\"loading-content\">\n          <div className=\"loading-spinner\"></div>\n          <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>\n        </div>\n      </GlassCard>\n    );\n  }\n\n  if (!airQuality) {\n    return (\n      <GlassCard className=\"air-quality-widget\">\n        <div className=\"widget-header\">\n          <Wind size={20} />\n          <h3>–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞</h3>\n        </div>\n        <div className=\"error-content\">\n          <AlertTriangle size={24} />\n          <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>\n        </div>\n      </GlassCard>\n    );\n  }\n\n  const aqiLevel = getAQILevel(airQuality.aqi);\n  const Icon = aqiLevel.icon;\n\n  return (\n    <GlassCard className=\"air-quality-widget\">\n      <div className=\"widget-header\">\n        <Wind size={20} />\n        <h3>–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞</h3>\n      </div>\n      \n      <div className=\"air-quality-content\">\n        <div className=\"aqi-main\">\n          <div className=\"aqi-value\" style={{ color: aqiLevel.color }}>\n            {airQuality.aqi}\n          </div>\n          <div className=\"aqi-level\">\n            <Icon size={16} style={{ color: aqiLevel.color }} />\n            <span style={{ color: aqiLevel.color }}>{aqiLevel.level}</span>\n          </div>\n        </div>\n\n        <div className=\"pollutants-grid\">\n          <div className=\"pollutant-item\">\n            <div className=\"pollutant-name\">PM2.5</div>\n            <div className=\"pollutant-value\">{airQuality.pm25.toFixed(1)}</div>\n          </div>\n          <div className=\"pollutant-item\">\n            <div className=\"pollutant-name\">PM10</div>\n            <div className=\"pollutant-value\">{airQuality.pm10.toFixed(1)}</div>\n          </div>\n          <div className=\"pollutant-item\">\n            <div className=\"pollutant-name\">O‚ÇÉ</div>\n            <div className=\"pollutant-value\">{airQuality.o3.toFixed(1)}</div>\n          </div>\n          <div className=\"pollutant-item\">\n            <div className=\"pollutant-name\">NO‚ÇÇ</div>\n            <div className=\"pollutant-value\">{airQuality.no2.toFixed(1)}</div>\n          </div>\n        </div>\n\n        <div className=\"air-quality-tips\">\n          <h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h4>\n          {airQuality.aqi <= 50 && (\n            <p>–û—Ç–ª–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ –∏ –∑–∞–Ω—è—Ç–∏–π —Å–ø–æ—Ä—Ç–æ–º –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ.</p>\n          )}\n          {airQuality.aqi > 50 && airQuality.aqi <= 100 && (\n            <p>–ü—Ä–∏–µ–º–ª–µ–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –ª—é–¥—è–º —Å–ª–µ–¥—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏.</p>\n          )}\n          {airQuality.aqi > 100 && airQuality.aqi <= 150 && (\n            <p>–õ—é–¥—è–º —Å —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è–º–∏ —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–æ–∑–¥—É—Ö–µ.</p>\n          )}\n          {airQuality.aqi > 150 && (\n            <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏. –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –Ω–∞ —É–ª–∏—Ü—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞—â–∏—Ç–Ω—É—é –º–∞—Å–∫—É.</p>\n          )}\n        </div>\n      </div>\n    </GlassCard>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport GlassCard from './GlassCard.jsx';\nimport { CloudRain, MapPin, Activity } from 'lucide-react';\n\nexport default function PrecipitationRadar({ city }) {\n  const canvasRef = useRef(null);\n  const [loading, setLoading] = useState(true);\n  const [radarData, setRadarData] = useState(null);\n  const animationRef = useRef(null);\n\n  useEffect(() => {\n    const loadRadarData = async () => {\n      setLoading(true);\n      \n      // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–µ–º–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–¥–∞—Ä–∞\n      const mockRadarData = {\n        center: { lat: city?.lat || 55.7558, lon: city?.lon || 37.6173 },\n        precipitation: generatePrecipitationData(),\n        timestamp: new Date().toISOString()\n      };\n      \n      setRadarData(mockRadarData);\n      setLoading(false);\n    };\n\n    if (city) {\n      loadRadarData();\n    }\n  }, [city]);\n\n  const generatePrecipitationData = () => {\n    const data = [];\n    for (let i = 0; i < 50; i++) {\n      data.push({\n        x: Math.random() * 300 - 150,\n        y: Math.random() * 300 - 150,\n        intensity: Math.random(),\n        type: Math.random() > 0.7 ? 'rain' : Math.random() > 0.9 ? 'storm' : 'cloud',\n        size: Math.random() * 30 + 10,\n        speed: Math.random() * 2 + 0.5,\n        direction: Math.random() * Math.PI * 2\n      });\n    }\n    return data;\n  };\n\n  useEffect(() => {\n    if (!radarData || !canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = 300;\n    canvas.height = 300;\n\n    let time = 0;\n\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // –†–∏—Å—É–µ–º —Å–µ—Ç–∫—É —Ä–∞–¥–∞—Ä–∞\n      drawRadarGrid(ctx, canvas.width, canvas.height);\n\n      // –†–∏—Å—É–µ–º –æ—Å–∞–¥–∫–∏\n      radarData.precipitation.forEach((precip, index) => {\n        const x = canvas.width / 2 + precip.x + Math.cos(precip.direction) * time * precip.speed;\n        const y = canvas.height / 2 + precip.y + Math.sin(precip.direction) * time * precip.speed;\n\n        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏\n        let color;\n        if (precip.type === 'storm') {\n          color = `rgba(147, 51, 234, ${precip.intensity * 0.8})`;\n        } else if (precip.type === 'rain') {\n          color = `rgba(59, 130, 246, ${precip.intensity * 0.6})`;\n        } else {\n          color = `rgba(156, 163, 175, ${precip.intensity * 0.3})`;\n        }\n\n        // –†–∏—Å—É–µ–º –æ–±–ª–∞—Å—Ç—å –æ—Å–∞–¥–∫–æ–≤\n        ctx.save();\n        ctx.globalAlpha = precip.intensity * 0.7;\n        ctx.fillStyle = color;\n        \n        // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ –≤–∏–¥–∞\n        const gradient = ctx.createRadialGradient(x, y, 0, x, y, precip.size);\n        gradient.addColorStop(0, color);\n        gradient.addColorStop(1, 'transparent');\n        ctx.fillStyle = gradient;\n        \n        ctx.beginPath();\n        ctx.arc(x, y, precip.size, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.restore();\n      });\n\n      // –†–∏—Å—É–µ–º —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞\n      drawCityCenter(ctx, canvas.width / 2, canvas.height / 2);\n\n      time += 0.1;\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [radarData]);\n\n  const drawRadarGrid = (ctx, width, height) => {\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';\n    ctx.lineWidth = 1;\n\n    // –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∫—Ä—É–≥–∏\n    for (let i = 1; i <= 4; i++) {\n      ctx.beginPath();\n      ctx.arc(width / 2, height / 2, (width / 2) * (i / 4), 0, Math.PI * 2);\n      ctx.stroke();\n    }\n\n    // –õ–∏–Ω–∏–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞\n    for (let i = 0; i < 8; i++) {\n      const angle = (Math.PI * 2 / 8) * i;\n      ctx.beginPath();\n      ctx.moveTo(width / 2, height / 2);\n      ctx.lineTo(\n        width / 2 + Math.cos(angle) * width / 2,\n        height / 2 + Math.sin(angle) * height / 2\n      );\n      ctx.stroke();\n    }\n\n    // –®–∫–∞–ª–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';\n    ctx.font = '10px sans-serif';\n    ctx.fillText('25 –∫–º', width / 2 + 5, height / 2 - width / 4);\n    ctx.fillText('50 –∫–º', width / 2 + 5, height / 2 - width / 2);\n    ctx.fillText('75 –∫–º', width / 2 + 5, height / 2 - width * 3 / 4);\n  };\n\n  const drawCityCenter = (ctx, x, y) => {\n    // –†–∏—Å—É–µ–º –º–∞—Ä–∫–µ—Ä –≥–æ—Ä–æ–¥–∞\n    ctx.fillStyle = '#ef4444';\n    ctx.beginPath();\n    ctx.arc(x, y, 5, 0, Math.PI * 2);\n    ctx.fill();\n\n    // –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç\n    ctx.strokeStyle = '#ef4444';\n    ctx.lineWidth = 2;\n    ctx.globalAlpha = 0.5;\n    ctx.beginPath();\n    ctx.arc(x, y, 10, 0, Math.PI * 2);\n    ctx.stroke();\n    ctx.globalAlpha = 1;\n  };\n\n  if (loading) {\n    return (\n      <GlassCard className=\"radar-widget\">\n        <div className=\"widget-header\">\n          <CloudRain size={20} />\n          <h3>–†–∞–¥–∞—Ä –æ—Å–∞–¥–∫–æ–≤</h3>\n        </div>\n        <div className=\"loading-content\">\n          <div className=\"loading-spinner\"></div>\n          <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–¥–∞—Ä–∞...</p>\n        </div>\n      </GlassCard>\n    );\n  }\n\n  return (\n    <GlassCard className=\"radar-widget\">\n      <div className=\"widget-header\">\n        <CloudRain size={20} />\n        <h3>–†–∞–¥–∞—Ä –æ—Å–∞–¥–∫–æ–≤</h3>\n      </div>\n      \n      <div className=\"radar-content\">\n        <div className=\"radar-container\">\n          <canvas\n            ref={canvasRef}\n            className=\"radar-canvas\"\n            style={{\n              width: '100%',\n              height: '300px',\n              borderRadius: '8px'\n            }}\n          />\n        </div>\n\n        <div className=\"radar-legend\">\n          <div className=\"legend-title\">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –æ—Å–∞–¥–∫–æ–≤</div>\n          <div className=\"legend-items\">\n            <div className=\"legend-item\">\n              <div className=\"legend-color\" style={{ background: 'rgba(156, 163, 175, 0.5)' }}></div>\n              <span>–û–±–ª–∞—á–Ω–æ</span>\n            </div>\n            <div className=\"legend-item\">\n              <div className=\"legend-color\" style={{ background: 'rgba(59, 130, 246, 0.6)' }}></div>\n              <span>–î–æ–∂–¥—å</span>\n            </div>\n            <div className=\"legend-item\">\n              <div className=\"legend-color\" style={{ background: 'rgba(147, 51, 234, 0.8)' }}></div>\n              <span>–ì—Ä–æ–∑–∞</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"radar-info\">\n          <div className=\"info-item\">\n            <MapPin size={14} />\n            <span>{city?.name || '–ú–æ—Å–∫–≤–∞'}</span>\n          </div>\n          <div className=\"info-item\">\n            <Activity size={14} />\n            <span>–û–±–Ω–æ–≤–ª–µ–Ω: {new Date().toLocaleTimeString()}</span>\n          </div>\n        </div>\n      </div>\n    </GlassCard>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport GlassCard from '../ui/GlassCard.jsx';\nimport { Sun, Moon, Clock, TrendingUp, TrendingDown, Sunrise, Sunset } from 'lucide-react';\n\nexport default function SunTimes({ city }) {\n  const [sunData, setSunData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  useEffect(() => {\n    const loadSunData = async () => {\n      setLoading(true);\n      \n      // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      // –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Ö–æ–¥–∞ –∏ –∑–∞–∫–∞—Ç–∞ –¥–ª—è –≥–æ—Ä–æ–¥–∞\n      const now = new Date();\n      const lat = city?.lat || 55.7558;\n      const lng = city?.lon || 37.6173;\n      \n      // –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API)\n      const sunrise = calculateSunTime(lat, lng, now, true);\n      const sunset = calculateSunTime(lat, lng, now, false);\n      const moonPhase = getMoonPhase(now);\n      \n      setSunData({\n        sunrise,\n        sunset,\n        moonPhase,\n        daylightHours: calculateDaylightHours(sunrise, sunset),\n        currentTime: now,\n        nextSunrise: getNextSunrise(sunrise, now),\n        nextSunset: getNextSunset(sunset, now)\n      });\n      \n      setLoading(false);\n    };\n\n    if (city) {\n      loadSunData();\n    }\n  }, [city]);\n\n  // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const calculateSunTime = (lat, lng, date, isSunrise) => {\n    // –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Ö–æ–¥–∞/–∑–∞–∫–∞—Ç–∞\n    const baseHour = isSunrise ? 6 : 18;\n    const variation = (lat / 90) * 2; // –®–∏—Ä–æ—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Ä–µ–º—è\n    const seasonal = Math.sin((date.getMonth() + 1) * Math.PI / 6) * 1.5; // –°–µ–∑–æ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è\n    \n    const hour = baseHour + variation + seasonal + (Math.random() - 0.5) * 0.5;\n    const minute = Math.floor((hour % 1) * 60);\n    \n    const result = new Date(date);\n    result.setHours(Math.floor(hour), minute, 0, 0);\n    return result;\n  };\n\n  const calculateDaylightHours = (sunrise, sunset) => {\n    return (sunset - sunrise) / (1000 * 60 * 60); // –≤ —á–∞—Å–∞—Ö\n  };\n\n  const getNextSunrise = (sunrise, now) => {\n    const next = new Date(sunrise);\n    if (next <= now) {\n      next.setDate(next.getDate() + 1);\n    }\n    return next;\n  };\n\n  const getNextSunset = (sunset, now) => {\n    const next = new Date(sunset);\n    if (next <= now) {\n      next.setDate(next.getDate() + 1);\n    }\n    return next;\n  };\n\n  const getMoonPhase = (date) => {\n    const phases = ['üåë', 'üåí', 'üåì', 'üåî', 'üåï', 'üåñ', 'üåó', 'üåò'];\n    const day = date.getDate();\n    return phases[day % 8];\n  };\n\n  const getTimeUntil = (targetTime) => {\n    const diff = targetTime - currentTime;\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 0) {\n      return `${hours}—á ${minutes}–º`;\n    }\n    return `${minutes}–º`;\n  };\n\n  const getSunIcon = (isSunrise) => {\n    return isSunrise ? Sunrise : Sunset;\n  };\n\n  const isDaytime = () => {\n    if (!sunData) return true;\n    return currentTime >= sunData.sunrise && currentTime <= sunData.sunset;\n  };\n\n  if (loading) {\n    return (\n      <GlassCard className=\"sun-times-widget\">\n        <div className=\"widget-header\">\n          <Clock size={20} />\n          <h3>–°–æ–ª–Ω—Ü–µ –∏ –ª—É–Ω–∞</h3>\n        </div>\n        <div className=\"loading-content\">\n          <div className=\"loading-spinner\"></div>\n          <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>\n        </div>\n      </GlassCard>\n    );\n  }\n\n  if (!sunData) {\n    return (\n      <GlassCard className=\"sun-times-widget\">\n        <div className=\"widget-header\">\n          <Clock size={20} />\n          <h3>–°–æ–ª–Ω—Ü–µ –∏ –ª—É–Ω–∞</h3>\n        </div>\n        <div className=\"error-content\">\n          <Clock size={24} />\n          <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>\n        </div>\n      </GlassCard>\n    );\n  }\n\n  const SunIcon = getSunIcon(true);\n  const MoonIcon = getSunIcon(false);\n\n  return (\n    <GlassCard className=\"sun-times-widget\">\n      <div className=\"widget-header\">\n        <Clock size={20} />\n        <h3>–°–æ–ª–Ω—Ü–µ –∏ –ª—É–Ω–∞</h3>\n      </div>\n      \n      <div className=\"sun-times-content\">\n        {/* –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */}\n        <div className=\"current-state\">\n          <div className=\"state-icon\">\n            {isDaytime() ? (\n              <div className=\"sun-icon-animated\">\n                <Sun size={32} />\n                <div className=\"sun-rays\"></div>\n              </div>\n            ) : (\n              <div className=\"moon-icon-animated\">\n                <Moon size={32} />\n                <div className=\"moon-glow\"></div>\n              </div>\n            )}\n          </div>\n          <div className=\"state-info\">\n            <div className=\"state-label\">\n              {isDaytime() ? '–î–µ–Ω—å' : '–ù–æ—á—å'}\n            </div>\n            <div className=\"state-time\">\n              {currentTime.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n            </div>\n          </div>\n        </div>\n\n        {/* –í–æ—Å—Ö–æ–¥ –∏ –∑–∞–∫–∞—Ç */}\n        <div className=\"sun-events\">\n          <div className=\"sun-event\">\n            <div className=\"event-icon\">\n              <SunIcon size={20} />\n            </div>\n            <div className=\"event-info\">\n              <div className=\"event-label\">–í–æ—Å—Ö–æ–¥</div>\n              <div className=\"event-time\">\n                {sunData.sunrise.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n              </div>\n              <div className=\"event-countdown\">\n                {currentTime < sunData.sunrise \n                  ? `—á–µ—Ä–µ–∑ ${getTimeUntil(sunData.nextSunrise)}`\n                  : `–±—ã–ª ${getTimeUntil(currentTime - sunData.sunrise)} –Ω–∞–∑–∞–¥`\n                }\n              </div>\n            </div>\n          </div>\n\n          <div className=\"sun-event\">\n            <div className=\"event-icon\">\n              <SunIcon size={20} />\n            </div>\n            <div className=\"event-info\">\n              <div className=\"event-label\">–ó–∞–∫–∞—Ç</div>\n              <div className=\"event-time\">\n                {sunData.sunset.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n              </div>\n              <div className=\"event-countdown\">\n                {currentTime < sunData.sunset \n                  ? `—á–µ—Ä–µ–∑ ${getTimeUntil(sunData.nextSunset)}`\n                  : `–±—ã–ª ${getTimeUntil(currentTime - sunData.sunset)} –Ω–∞–∑–∞–¥`\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–Ω–µ */}\n        <div className=\"day-info\">\n          <div className=\"day-stat\">\n            <div className=\"stat-label\">–°–≤–µ—Ç–æ–≤–æ–π –¥–µ–Ω—å</div>\n            <div className=\"stat-value\">\n              {Math.floor(sunData.daylightHours)}—á {Math.floor((sunData.daylightHours % 1) * 60)}–º\n            </div>\n          </div>\n          <div className=\"day-stat\">\n            <div className=\"stat-label\">–§–∞–∑–∞ –ª—É–Ω—ã</div>\n            <div className=\"stat-value\">\n              <span className=\"moon-emoji\">{sunData.moonPhase}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –¥–Ω—è */}\n        <div className=\"day-progress\">\n          <div className=\"progress-label\">\n            –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–Ω—è\n          </div>\n          <div className=\"progress-bar\">\n            <div \n              className=\"progress-fill\"\n              style={{ \n                width: `${((currentTime - sunData.sunrise) / (sunData.sunset - sunData.sunrise)) * 100}%`,\n                background: isDaytime() \n                  ? 'linear-gradient(90deg, #f59e0b, #ef4444)' \n                  : 'linear-gradient(90deg, #6366f1, #8b5cf6)'\n              }}\n            ></div>\n          </div>\n          <div className=\"progress-percentage\">\n            {Math.floor(((currentTime - sunData.sunrise) / (sunData.sunset - sunData.sunrise)) * 100)}%\n          </div>\n        </div>\n      </div>\n    </GlassCard>\n  );\n}\n","export default function ToggleSwitch({ checked, onChange, label }) {\n  return (\n    <label className=\"toggle\">\n      <input\n        className=\"toggle-input\"\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onChange}\n      />\n      <span className=\"toggle-track\" aria-hidden=\"true\">\n        <span className=\"toggle-thumb\" />\n      </span>\n      <span className=\"toggle-label\">{label}</span>\n    </label>\n  );\n}\n","import { useEffect, useMemo, useState } from 'react';\n\nconst STORAGE_KEY = 'atmosvibe-theme';\n\nexport function useTheme() {\n  const preferred = useMemo(() => {\n    if (typeof window === 'undefined') return 'dark';\n    const stored = window.localStorage.getItem(STORAGE_KEY);\n    if (stored === 'light' || stored === 'dark') return stored;\n    return window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches\n      ? 'light'\n      : 'dark';\n  }, []);\n\n  const [theme, setTheme] = useState(preferred);\n\n  useEffect(() => {\n    document.documentElement.dataset.theme = theme;\n    window.localStorage.setItem(STORAGE_KEY, theme);\n  }, [theme]);\n\n  const toggleTheme = () => setTheme((t) => (t === 'light' ? 'dark' : 'light'));\n\n  return { theme, toggleTheme };\n}\n","import { useState, useCallback } from 'react';\nimport Header from './components/layout/Header.jsx';\nimport Footer from './components/layout/Footer.jsx';\nimport CurrentWeather from './components/weather/CurrentWeather.jsx';\nimport ForecastChart from './components/weather/ForecastChart.jsx';\nimport WeatherMap from './components/weather/WeatherMap.jsx';\nimport DetailedForecast from './components/weather/DetailedForecast.jsx';\nimport CitySearch from './components/weather/CitySearch.jsx';\nimport WeatherBackground from './components/ui/WeatherBackground.jsx';\nimport AirQuality from './components/ui/AirQuality.jsx';\nimport PrecipitationRadar from './components/ui/PrecipitationRadar.jsx';\nimport SunTimes from './components/ui/SunTimes.jsx';\nimport ToggleSwitch from './components/ui/ToggleSwitch.jsx';\nimport { useTheme } from './hooks/useTheme.js';\nimport './styles/widgets.css';\n\nfunction AppContent() {\n  const [selectedCity, setSelectedCity] = useState({\n    name: '–ú–æ—Å–∫–≤–∞',\n    country: 'RU',\n    lat: 55.7558,\n    lon: 37.6173\n  });\n  const { theme: appTheme, toggleTheme: toggleAppTheme } = useTheme();\n\n  const handleCitySelect = useCallback((city) => {\n    console.log('App: handleCitySelect called with:', city);\n    setSelectedCity({\n      name: city.name,\n      country: city.country,\n      lat: city.lat,\n      lon: city.lon\n    });\n    console.log('App: setSelectedCity called, new city:', city.name);\n  }, []);\n\n  return (\n    <div className=\"app\" data-theme={appTheme}>\n      <WeatherBackground weather=\"clear\" />\n      <div className=\"background\" />\n\n      <Header onToggleTheme={toggleAppTheme} theme={appTheme} />\n\n      <main className=\"container safe-area-top safe-area-left safe-area-right\">\n        <div className=\"toolbar\">\n          <CitySearch onCitySelect={handleCitySelect} currentCity={selectedCity} />\n          <ToggleSwitch checked={appTheme === 'light'} onChange={toggleAppTheme} label=\"Light\" />\n        </div>\n\n        <section className=\"grid-responsive\">\n          <CurrentWeather city={selectedCity} />\n          <ForecastChart city={selectedCity} />\n          <WeatherMap city={selectedCity} />\n          <DetailedForecast city={selectedCity} />\n          <AirQuality city={selectedCity} />\n          <PrecipitationRadar city={selectedCity} />\n          <SunTimes city={selectedCity} />\n        </section>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default function App() {\n  return <AppContent />;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.jsx';\n\nimport 'leaflet/dist/leaflet.css';\nimport './styles/variables.css';\nimport './styles/main.css';\nimport './styles/glass-effects.css';\nimport './styles/weather-animations.css';\nimport './styles/responsive.css';\nimport './styles/detailed-forecast.css';\nimport './styles/city-search.css';\n\nfunction registerServiceWorker() {\n  if (!('serviceWorker' in navigator)) return;\n\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register('./service-worker.js')\n      .catch(() => undefined);\n  });\n}\n\nregisterServiceWorker();\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","reactJsxRuntime_production_min","jsxRuntimeModule","client","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","className","children","rest","ref","createElement","tag","attrs","Activity","AlertTriangle","CheckCircle","Clock","CloudRain","CloudSun","MapPin","Moon","Search","Star","Sun","Sunrise","Sunset","Wind","X","Header","onToggleTheme","theme","jsxs","jsx","Footer","GlassCard","clsx","AnimatedButton","props","motion","PREFIX","cacheGet","key","raw","cacheSet","value","API_BASE","CACHE_TTL_MS","getCurrentWeather","coords","options","force","city","apiKey","cityName","cacheKey","cached","fallbackCached","data","axios","error","_a","_b","_c","result","_d","_e","_g","_f","getForecast","item","date","hours","mins","t","v","getDetailedForecast","useGeolocation","setCoords","useState","setError","useEffect","watchId","pos","err","useWeatherData","setData","loading","setLoading","run","useCallback","refetch","formatTempC","formatTimeHHMM","h","CurrentWeather","useForecastData","fallbackData","ForecastChart","forecast","chartData","ResponsiveContainer","LineChart","XAxis","YAxis","Tooltip","Line","L","DEFAULT_CENTER","DEFAULT_ZOOM","MapCenter","center","map","useMap","WeatherMap","hasMarker","MapContainer","TileLayer","Marker","Popup","useDetailedForecast","DetailedForecast","index","POPULAR_CITIES","CitySearch","onCitySelect","currentCity","query","setQuery","suggestions","setSuggestions","isOpen","setIsOpen","isHovering","setIsHovering","favorites","setFavorites","isLoading","setIsLoading","dropdownPosition","setDropdownPosition","inputRef","useRef","dropdownRef","searchContainerRef","saved","updateDropdownPosition","rect","animationKey","setAnimationKey","prev","handleMouseEnter","handleMouseLeave","saveFavorites","cities","handleClickOutside","event","searchCities","searchQuery","filtered","timer","handleInputChange","handleCitySelect","clearSearch","handleInputFocus","handleInputBlur","toggleFavorite","cityKey","newFavorites","fav","isFavorite","Fragment","AnimatePresence","WeatherBackground","weather","canvasRef","particlesRef","canvas","ctx","animationId","resizeCanvas","getParticleConfig","Particle","config","i","angle","animate","particle","AirQuality","airQuality","setAirQuality","resolve","mockData","getAQILevel","aqi","aqiLevel","Icon","PrecipitationRadar","radarData","setRadarData","animationRef","mockRadarData","generatePrecipitationData","time","drawRadarGrid","precip","y","gradient","drawCityCenter","width","height","x","SunTimes","sunData","setSunData","currentTime","setCurrentTime","now","lat","lng","sunrise","calculateSunTime","sunset","moonPhase","getMoonPhase","calculateDaylightHours","getNextSunrise","getNextSunset","isSunrise","baseHour","variation","seasonal","hour","minute","next","phases","day","getTimeUntil","targetTime","diff","minutes","getSunIcon","isDaytime","SunIcon","ToggleSwitch","checked","onChange","label","STORAGE_KEY","useTheme","preferred","useMemo","stored","setTheme","AppContent","selectedCity","setSelectedCity","appTheme","toggleAppTheme","App","registerServiceWorker","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}